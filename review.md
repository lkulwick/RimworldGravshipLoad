# Rimworld Gravship Cargo – Code Review

- **High:** `Source/Work/JobDriver_LoadGravload.cs:122` captures `desired` before placing the haul and then calls `tracker.ReleaseTicket(actor, true, desired);` after placement. When only part of the stack fits, `desired` still equals the original requested amount, the surplus is dropped on the ground at lines 147‑153, yet the transfer is marked as fully delivered. This desynchronises `LoadedCount`, allows operations to complete early, and strands cargo outside the ship. Track the actual amount placed (compare stack counts before/after or use the return from `TryPlaceThing`) and feed that value into `ReleaseTicket`, re‑queuing any leftover.
- **High:** `Source/Storage/GravloadMapComponent.cs:336` returns false if the item is forbidden. Managed storage cells deliberately forbid their contents via `EnsureThingForbidden`, so unload transfers never receive jobs unless the player forces them. Skip this check when handling tracker requests (or momentarily un-forbid while queuing) so unload operations proceed automatically.
